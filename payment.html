<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Payment - Digital Learning Nabha</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Header -->
  <header>
    <div class="logo">Digital Learning Nabha</div>
    <nav>
      <a href="index.html">Home</a>
      <a href="signin.html">Sign In</a>
      <a href="create-profile.html">Create Profile</a>
    </nav>
  </header>

  <!-- Payment Section -->
  <section class="hero" style="padding: 100px 20px;">
    <div style="max-width: 600px; margin: 0 auto; background: rgba(255,255,255,0.95); padding: 40px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
      <h2 style="text-align: center; color: #333; margin-bottom: 30px;">Complete Your Payment</h2>
      <div id="courseInfo" style="text-align: center; margin-bottom: 30px;">
        <h3 id="courseTitle">Loading...</h3>
        <p id="courseDescription">Please wait while we load your course details.</p>
      </div>

      <form id="paymentForm">
        <div style="margin-bottom: 20px;">
          <label for="cardNumber" style="display: block; margin-bottom: 5px; font-weight: bold;">Card Number:</label>
          <input type="text" id="cardNumber" name="cardNumber" maxlength="16" pattern="\d{16}" required
                 style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 16px; box-sizing: border-box;"
                 placeholder="1234 5678 9012 3456">
        </div>

        <div style="display: flex; gap: 20px; margin-bottom: 20px;">
          <div style="flex: 1;">
            <label for="expiryDate" style="display: block; margin-bottom: 5px; font-weight: bold;">Expiry Date:</label>
            <input type="text" id="expiryDate" name="expiryDate" pattern="(0[1-9]|1[0-2])\/\d{2}" required
                   style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 16px; box-sizing: border-box;"
                   placeholder="MM/YY">
          </div>
          <div style="flex: 1;">
            <label for="cvv" style="display: block; margin-bottom: 5px; font-weight: bold;">CVV:</label>
            <input type="password" id="cvv" name="cvv" maxlength="3" pattern="\d{3}" required
                   style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 16px; box-sizing: border-box;"
                   placeholder="123">
          </div>
        </div>

        <div style="margin-bottom: 30px;">
          <label for="amount" style="display: block; margin-bottom: 5px; font-weight: bold;">Amount:</label>
          <input type="text" id="amount" name="amount" value="500" readonly
                 style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 16px; background: #f9f9f9; box-sizing: border-box;">
        </div>

        <button type="submit" class="btn success" style="width: 100%; padding: 15px; font-size: 18px; font-weight: bold;">
          Pay â‚¹500 & Start Learning
        </button>
      </form>

      <div style="text-align: center; margin-top: 20px;">
        <button onclick="window.close()" class="btn outline" style="width: 100%;">Cancel</button>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer id="contact">
    <p>&copy; 2025 Digital Learning Nabha. All Rights Reserved.</p>
    <p>Contact: info@nabhalearning.org</p>
  </footer>

  <script>
    // Get course from URL parameters
    const urlParams = new URLSearchParams(window.location.search);
    const course = urlParams.get('course');

    // Course information
    const courseData = {
      math: {
        title: 'Mathematics Course',
        description: 'Interactive math lessons covering algebra, geometry, and more.'
      },
      science: {
        title: 'Science Course',
        description: 'Biology, Chemistry, and Physics modules with experiments.'
      },
      english: {
        title: 'English Course',
        description: 'Improve reading, writing, and communication skills.'
      }
    };

    // Update course info
    if (course && courseData[course]) {
      document.getElementById('courseTitle').textContent = courseData[course].title;
      document.getElementById('courseDescription').textContent = courseData[course].description;
    } else {
      document.getElementById('courseTitle').textContent = 'Course Not Found';
      document.getElementById('courseDescription').textContent = 'Please go back and select a valid course.';
      document.getElementById('paymentForm').style.display = 'none';
    }

    // Handle form submission
    document.getElementById('paymentForm').addEventListener('submit', function(e) {
      e.preventDefault();

      // Simple validation
      const cardNumber = document.getElementById('cardNumber').value;
      const expiryDate = document.getElementById('expiryDate').value;
      const cvv = document.getElementById('cvv').value;

      if (cardNumber.length !== 16 || !/^\d{16}$/.test(cardNumber)) {
        alert('Please enter a valid 16-digit card number.');
        return;
      }

      if (!/^(0[1-9]|1[0-2])\/\d{2}$/.test(expiryDate)) {
        alert('Please enter a valid expiry date in MM/YY format.');
        return;
      }

      if (cvv.length !== 3 || !/^\d{3}$/.test(cvv)) {
        alert('Please enter a valid 3-digit CVV.');
        return;
      }

      // Simulate payment processing
      alert('Payment successful! Redirecting to your course...');

      // Redirect to course page
      window.location.href = `course.html?course=${course}`;
    });
  </script>
</body>
</html>
